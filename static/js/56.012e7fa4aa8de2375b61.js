webpackJsonp([56],{EV1k:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("E4LH"),o={name:"login",data:function(){return{message:"",mobile:"",password:"",check:"",noregister:!1}},methods:{onClickRight:function(){this.$router.push("/register")},onClickLeft:function(){this.$router.go(-1)},login:function(){var t=this;""!=this.mobile?""!=this.password?this.check&&this.$http.post("appServiceSso/passwordLogin",{mobile:this.mobile,password:this.password}).then(function(e){"success"==e.msg?(localStorage.setItem("userInfo",JSON.stringify(e.data)),t.$toast("登录成功"),setTimeout(function(){3==t.$proType?t.$router.replace("/"):t.$router.replace({name:"navbar",query:{type:0}})},1200)):"该用户不存在"===e.info&&(t.$toast(e.info),t.noregister=!0)}).catch(function(e){t.$toast("网络错误")}):this.$toast("请输入密码"):this.$toast("请输入手机号")},blur:function(){this.check=Object(i.b)(this.mobile),this.check?this.message="":this.message="手机号格式不正确",""==this.mobile&&(this.message="")},goregi:function(){this.$router.push({name:"/register"})}},computed:{},created:function(){localStorage.clear()},mounted:function(){}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"navv"},[s("van-nav-bar",{attrs:{"right-text":"注册","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}})],1),t._v(" "),s("p",{staticClass:"account"},[t._v("账号密码登录")]),t._v(" "),s("div",{staticClass:"formfield"},[s("van-cell-group",[s("van-field",{attrs:{"error-message":t.message,placeholder:"请输入手机号码"},on:{input:t.blur},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),t._v(" "),s("van-cell-group",[s("van-field",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),t.noregister?s("div",{staticClass:"noregister"},[s("div",{staticClass:"iconfont icon-chahao"}),t._v(" "),s("p",[t._v("该手机号还未注册,")]),t._v(" "),s("p",{on:{click:t.goregi}},[t._v("去注册")])]):t._e(),t._v(" "),s("div",{staticClass:"enter",on:{click:t.login}},[t._v("\n    登录\n  ")]),t._v(" "),s("p",{staticClass:"two"},[s("router-link",{attrs:{to:"telephone"}},[t._v("\n      手机验证码登录\n    ")])],1)])},staticRenderFns:[]};var a=s("VU/8")(o,n,!1,function(t){s("wvbD")},"data-v-d8170d84",null);e.default=a.exports},wvbD:function(t,e){}});