webpackJsonp([84],{"5zCw":function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("E4LH"),a={name:"register",data:function(){return{message:"",checked:!1,mobile:"",password:"",password02:"",code:"",pmessage:"",pchecked:!1,sendAuthCode:!0,auth_time:0,pmessage02:"",check:!1}},methods:{onClickLeft:function(){this.$router.go(-1)},onClickRight:function(){this.$router.push("/login")},blur:function(){this.check=Object(o.b)(this.mobile),console.log(this.check),this.check?this.message="":this.message="手机号格式不正确",""==this.mobile&&(this.message="")},change:function(){this.pchecked=Object(o.a)(this.password),this.pchecked?this.pmessage="":this.pmessage="密码格式不正确",""==this.password&&(this.pmessage="")},rechange:function(){this.password02!=this.password?this.pmessage02="两次密码不一致":this.pmessage02="",""==this.password02&&(this.pmessage02="")},sendCode:function(){var s=this;if(""!=this.mobile){if(this.check){this.sendAuthCode=!1,this.auth_time=120;var e=setInterval(function(){s.auth_time--,s.auth_time<=0&&(s.sendAuthCode=!0,clearInterval(e))},1e3);this.$http.post("appServiceSso/sendCode",{mobile:this.mobile}).then(function(e){"success"==e.msg?s.$toast("短信验证码发送成功"):s.$toast(e.info)}).catch(function(e){s.$toast("网络错误")})}}else this.$toast("请输入手机号")},register:function(){var s=this;""!=this.mobile&&""!=this.password?""!=this.code?this.check&&this.pchecked&&(this.checked?this.password02==this.password&&this.$http.post("appServiceSso/mobileRegister",{code:this.code,mobile:this.mobile,password:this.password}).then(function(e){"success"==e.msg?(s.$toast("注册成功"),setTimeout(function(){s.$router.push("/login")},1200)):s.$toast(e.info)}).catch(function(e){s.$toast("网络错误")}):this.$toast("请同意协议")):this.$toast("验证码"):this.$toast("请输入手机号或密码")}},computed:{},created:function(){},mounted:function(){}},i={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"register"},[t("div",{staticClass:"navv"},[t("van-nav-bar",{attrs:{"right-text":"登录","left-arrow":""},on:{"click-left":s.onClickLeft,"click-right":s.onClickRight}})],1),s._v(" "),t("p",{staticClass:"account"},[s._v("注册账号")]),s._v(" "),t("div",{staticClass:"formfield"},[t("van-cell-group",[t("van-field",{attrs:{"error-message":s.message,placeholder:"请输入手机号"},on:{input:s.blur},model:{value:s.mobile,callback:function(e){s.mobile=e},expression:"mobile"}})],1),s._v(" "),t("van-cell-group",[t("van-field",{staticClass:"bb",attrs:{type:"password","error-message":s.pmessage,placeholder:"密码6-20个英文字母、数字、下划线"},on:{input:s.change},model:{value:s.password,callback:function(e){s.password=e},expression:"password"}})],1),s._v(" "),t("van-cell-group",[t("van-field",{staticClass:"bb",attrs:{type:"password","error-message":s.pmessage02,placeholder:"请再次输入密码"},on:{input:s.rechange},model:{value:s.password02,callback:function(e){s.password02=e},expression:"password02"}})],1),s._v(" "),t("van-cell-group",[t("van-field",{attrs:{placeholder:"请输入手机验证码"},model:{value:s.code,callback:function(e){s.code=e},expression:"code"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:s.sendAuthCode,expression:"sendAuthCode"}],staticClass:"code",attrs:{slot:"button"},on:{click:s.sendCode},slot:"button"},[s._v("\n          获取验证码\n        ")]),s._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!s.sendAuthCode,expression:"!sendAuthCode"}],staticClass:"recode",attrs:{slot:"button"},slot:"button"},[s._v(s._s(s.auth_time)+"秒后再发送")])])],1)],1),s._v(" "),t("div",{staticClass:"bottom"},[t("van-checkbox",{attrs:{"checked-color":"#4b0"},model:{value:s.checked,callback:function(e){s.checked=e},expression:"checked"}},[s._v("\n      我已同意武汉三乡工程网 "),t("router-link",{staticClass:"aa",attrs:{to:""}},[s._v("《用户协议》")])],1)],1),s._v(" "),t("div",{staticClass:"enter",on:{click:s.register}},[s._v("\n    立即注册\n  ")])])},staticRenderFns:[]};var c=t("VU/8")(a,i,!1,function(s){t("GcbT")},"data-v-00e6d90e",null);e.default=c.exports},GcbT:function(s,e){}});