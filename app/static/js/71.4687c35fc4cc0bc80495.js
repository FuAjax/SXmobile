webpackJsonp([71],{jcrt:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("FCAx"),o=s("7qok"),n=s("E4LH"),a={name:"issueGrange",components:{Header:i.a},data:function(){return{colorNum:2,popupShow:!1,imglist:[],Innimglist:[],Foodimglist:[],Grangeimglist:[],tradeLisence:[],FoodtradeLisence:[],lowimglist:[],teleNum:"",suitable:"",suitableArr:[],suitableNum:[],title:"发布农庄",grangename:"",location:"",detailLocation:"",position:"",sceincAround:"",telephone:"",openTime:"",percost:"",businessArea:"",DecorateTime:"",startTime:"",type:"",product:"",productArr:["住宿","美食","门票"],includeArr:[],DecorateType:"",deco:[],decorationColumns:[],decoget:"",staffMount:"",serviceProject:"",serviceArr:[],serviceInclude:[],serviceProjectImg:"",supportservice:"",supportArr:[],supportArray:[],roomNum:"",roomGet:"",roomInnTime:"",roomInn:"",roomOutTime:"",roomOut:"",roomImg:"",foodRoomNum:"",foodsNum:"",getCustorm:"",Eatingnum:"",EatingColumns:[],Eatingarr:[],specialFood:"",specialFoodArray:[],foodfirstImg:"",outImg:"",innerImg:"",surroundImg:"",grangeMessage:"",autosize:{maxHeight:200,minHeight:200},busroute:"",driveRoute:"",businessName:"",businessTelephone:"",mobileValid:null,code:"",teleMessage:"",check:!1,sendAuthCode:!0,auth_time:60,businessMail:"",bodyId:"",businessBrand:"",foodBrand:"",businessBrandImg:"",handlerImg:"",foodImg:"",specialId:null,region:[],popType:9,columns:[],columns1:[],columns2:[],columnsIndex:null,columnsIndex1:null,columnsIndex2:null,columnsName:[],columnsIds:[],spot:[],spotColumns:[],spotColumns1:[],spotColumns2:[],spotColumnsIndex:null,spotColumnsIndex1:null,spotColumnsIndex2:null,spotColumnsName:[],spotColumnsIds:[],currentDate:"00:00",minHour:0,maxHour:24,timebegin:"",timeover:"",manage:[],manageColumns:[],managetype:"",address_detail:null,map:{},locationSpot:{lng:"114.312",lat:"30.598"},ac:{}}},computed:{},methods:{setmap:function(){var e=this;this.map=new BMap.Map("l-map"),this.map.centerAndZoom("武汉",12),this.map.enableScrollWheelZoom(),this.ac=new BMap.Autocomplete({input:"getInput",location:this.map});var t=void 0;this.ac.addEventListener("onconfirm",function(s){var i=s.item.value;t=i.province+i.city+i.district+i.street+i.business,e.address_detail=t,function(){e.map.clearOverlays();var s=new BMap.LocalSearch(e.map,{onSearchComplete:function(){var t=s.getResults().getPoi(0).point;e.map.centerAndZoom(t,18),e.map.addOverlay(new BMap.Marker(t)),console.log(t),e.locationSpot.lng=t.lng,e.locationSpot.lat=t.lat}});s.search(t)}()})},drawLocation:function(){if(""!==this.locationSpot.lng&&""!==this.locationSpot.lat){this.map.clearOverlays();var e=new BMap.Point(this.locationSpot.lng,this.locationSpot.lat),t=new BMap.Marker(e);this.map.addOverlay(t),this.map.panTo(e)}},onChange:function(e,t,s){var i=this;this.columnsIndex=s+1,this.columnsIndex1=null,this.columnsIndex2=null,this.columns1=[],this.columns2=[],this.region[s].children.forEach(function(e,t){i.columns1.push(e.label)}),this.columns1.length>0&&(this.columnsIndex1=1)},onChange1:function(e,t,s){var i=this;this.columnsIndex1=s+1,this.columnsIndex2=null,this.columns2=[],this.region[this.columnsIndex-1].children[s].children.forEach(function(e,t){i.columns2.push(e.label)}),this.columns2.length>0&&(this.columnsIndex2=1)},onChange2:function(e,t,s){this.columnsIndex2=s+1},spotonChange:function(e,t,s){var i=this;this.spotColumnsIndex=s+1,this.spotColumnsIndex1=null,this.spotColumns1=[],this.spot[s].children.forEach(function(e,t){i.spotColumns1.push(e.label)}),this.spotColumns1>0&&(this.spotColumnsIndex1=1)},spotonChange1:function(e,t,s){this.spotColumnsIndex1=s+1},getStarTime:function(e){this.timebegin=e.getValues().join(":"),console.log(this.timebegin)},getEndTime:function(e){this.timeover=e.getValues().join(":"),console.log(this.timeover)},management:function(e,t,s){this.managetype=t},selectProduct:function(e){this.includeArr.includes(e)?this.includeArr=this.includeArr.filter(function(t){return t!=e}):this.includeArr.push(e)},selectSuitable:function(e){this.suitableNum.includes(e)?this.suitableNum=this.suitableNum.filter(function(t){return t!=e}):this.suitableNum.push(e)},decoration:function(e,t,s){this.decoget=t},getproduct:function(e){this.serviceInclude.includes(e)?this.serviceInclude=this.serviceInclude.filter(function(t){return t!=e}):this.serviceInclude.push(e)},supportser:function(e){this.supportArray.includes(e)?this.supportArray=this.supportArray.filter(function(t){return t!=e}):this.supportArray.push(e)},checkInnTime:function(e){this.roomInn=e.getValues().join("-")},checkOutTime:function(e){this.roomOut=e.getValues().join("-")},Eating:function(e,t,s){this.Eatingnum=t},add:function(){""==this.specialFood&&this.specialFoodArray.length<10?this.$toast("请输入菜系名称"):(this.specialFoodArray.push(this.specialFood),this.specialFood="",this.specialFoodArray.length>10&&this.$toast("最多10条特色菜"))},delfood:function(e){this.specialFoodArray.splice(e,1)},init:function(){var e=this,t={cityId:1,userId:this.specialId};this.$http.post("/appServiceInformation/publishGrangeParameter",t).then(function(t){if("success"==t.msg){e.region=t.data.area,e.region.forEach(function(t,s){e.columns.push(t.label)}),e.region[0].children&&e.region[0].children.forEach(function(t,s){e.columns1.push(t.label)}),e.spot=t.data.landspace,e.spot.forEach(function(t,s){e.spotColumns.push(t.label)}),e.spot[0].children&&e.spot[0].children.forEach(function(t,s){e.spotColumns1.push(t.label)}),e.manage=t.data.managementClass,e.manage.forEach(function(t,s){e.manageColumns.push(t.name)}),e.deco=t.data.decorationSituation,e.deco.forEach(function(t){e.decorationColumns.push(t.name)}),e.serviceArr=t.data.play,e.supportArr=t.data.buildingMatching;var s=t.data.grangeEatingNumber;s[0].name="单人餐",s[1].name="双人餐",e.Eatingarr=s,e.Eatingarr.forEach(function(t){e.EatingColumns.push(t.name)}),e.suitableArr=t.data.throng}else e.$toast(t.info)}).catch(function(t){e.$toast(t)})},tab:function(){this.colorNum=1},tabdiv:function(){this.colorNum=0},showpop:function(e){var t=this;this.popupShow=!0,this.popType=e,9==e&&setTimeout(function(){t.setmap()},1500)},confirmPop:function(){if(1==this.popType)if(this.columnsIndex1){var e=["武汉"],t=["1"];e.push(this.region[this.columnsIndex-0-1].label),e.push(this.region[this.columnsIndex-0-1].children[this.columnsIndex1-0-1].label),t.push(this.region[this.columnsIndex-0-1].value),t.push(this.region[this.columnsIndex-0-1].children[this.columnsIndex1-0-1].value),this.columnsIndex2&&(e.push(this.region[this.columnsIndex-0-1].children[this.columnsIndex1-0-1].children[this.columnsIndex2-0-1].label),t.push(this.region[this.columnsIndex-0-1].children[this.columnsIndex1-0-1].children[this.columnsIndex2-0-1].value)),this.columnsName=e,this.columnsIds=t.join(","),this.location=this.columnsName.join(","),this.popupShow=!1}else this.$toast("所在地区请精确到街道");if(2==this.popType)if(this.spotColumnsIndex1){var s=[],i=[];i.push(this.spot[this.spotColumnsIndex-0-1].label),i.push(this.spot[this.spotColumnsIndex-0-1].children[this.spotColumnsIndex1-0-1].label),s.push(this.spot[this.spotColumnsIndex-0-1].value),s.push(this.spot[this.spotColumnsIndex-0-1].children[this.spotColumnsIndex1-0-1].value),this.spotColumnsName=i[1],this.spotColumnsIds=s[1],this.sceincAround=this.spotColumnsName,this.popupShow=!1}else this.$toast("周边景点请精确到景点");3==this.popType&&(this.timebegin?(this.openTime=this.timebegin+"-"+this.timeover,this.popupShow=!1):this.$toast("请选择开始时间")),4==this.popType&&(this.type=this.managetype,this.popupShow=!1),5==this.popType&&(this.DecorateType=this.decoget,this.popupShow=!1),6==this.popType&&(this.roomInnTime=this.roomInn,this.popupShow=!1),7==this.popType&&(this.roomOutTime=this.roomOut,this.popupShow=!1),8==this.popType&&(this.getCustorm=this.Eatingnum,this.popupShow=!1),9==this.popType&&(this.position=this.locationSpot.lng+" , "+this.locationSpot.lat,this.popupShow=!1)},closePop:function(){this.popupShow=!1,1==this.popType&&(this.location=""),2==this.popType&&(this.sceincAround=""),3==this.popType&&(this.openTime=""),4==this.popType&&(this.type=""),5==this.popType&&(this.DecorateType=""),6==this.popType&&(this.roomInnTime=""),7==this.popType&&(this.this.roomOutTime=""),8==this.popType&&(this.getCustorm=""),9==this.popType&&(this.position="")},uploadimg:function(e,t){var s=this;console.log(e,t);var i=e.target.files[0],n=i.size/1024/1024,a=i.name.substring(i.name.lastIndexOf(".")+1,i.name.length).toLocaleLowerCase(),l=(new Date).getTime()+Math.floor(999999*Math.random())+"."+a;if("jpg"!=a&&"bmp"!=a&&"png"!=a&&"jpeg"!=a)return this.$toast("上传图片格式不正确"),!1;if(n>10)return this.$toast("上传的图片不得大于2MB"),!1;var r=o.a.genUpToken(2,l);console.log(r);var c=new FormData;c.append("key",l),c.append("token",r),c.append("file",i);var u=o.a.niuUrl[1];this.$http.postImg("https://upload.qiniu.com/",c,null,null,{"Content-Type":"multipart/form-data"}).then(function(e){1==t&&s.imglist.push(u+e.key),2==t&&s.Innimglist.push(u+e.key),3==t&&s.Foodimglist.push(u+e.key),4==t&&s.Grangeimglist.push(u+e.key),5==t&&s.tradeLisence.push(u+e.key),6==t&&s.FoodtradeLisence.push(u+e.key),7==t&&s.lowimglist.push(u+e.key)})},delIMg:function(e){this.imglist.splice(e,1)},delInnIMg:function(e){this.Innimglist.splice(e,1)},delFoodIMg:function(e){this.Foodimglist.splice(e,1)},delGrangeIMg:function(e){this.Grangeimglist.splice(e,1)},delLisenceIMg:function(e){this.tradeLisence.splice(e,1)},delFoodLisenceIMg:function(e){this.FoodtradeLisence.splice(e,1)},delLowIMg:function(e){this.lowimglist.splice(e,1)},blurr:function(){this.businessTelephone!=this.teleNum?this.mobileValid=!0:this.mobileValid=!1,this.check=Object(n.b)(this.businessTelephone),this.check?this.teleMessage="":this.teleMessage="手机号格式不正确",""==this.businessTelephone&&(this.teleMessage="")},sendCode:function(){var e=this;if(this.check){this.sendAuthCode=!1,this.auth_time=120;var t=setInterval(function(){e.auth_time--,e.auth_time<=0&&(e.sendAuthCode=!0,clearInterval(t))},1e3);this.$http.post("appServiceSso/sendCode",{mobile:this.businessTelephone}).then(function(t){"success"==t.msg?e.$toast("验证码发送成功"):e.$toast(t.info)}).catch(function(t){e.$toast("网络错误")})}},submit:function(){var e=this,t={},s={},i={};if(this.specialId?t.userId=this.specialId:t.userId=null,""===this.grangename)return this.$toast("请输入农庄名称"),!1;if(t.grangeName=this.grangename,""===this.location)return this.$toast("请选择所在地区"),!1;if(t.areaName=this.location,t.areaId=this.columnsIds,""===this.detailLocation)return this.$toast("请输入详细地址"),!1;if(t.addressDetail=this.detailLocation,""===this.position)return this.$toast("请选择位置标注"),!1;if(t.longitude=this.locationSpot.lng,t.latitude=this.locationSpot.lat,""===this.sceincAround)return this.$toast("请选择周边景区"),!1;if(t.landspaceId=this.spotColumnsIds,t.landspaceName=this.sceincAround,""===this.telephone)return this.$toast("请输入服务电话"),!1;if(t.contactPhone=this.telephone,""===this.openTime)return this.$toast("请选择营业时间"),!1;if(t.businessHours=this.openTime,""===this.percost)return this.$toast("请输入人均消费"),!1;if(t.personConsumption=Object(n.c)(this.percost),""===this.businessArea)return this.$toast("请输入经营面积"),!1;if(t.operatingArea=parseInt(this.businessArea),""===this.DecorateTime)return this.$toast("请输入装修时间"),!1;if(t.decorationTime=this.DecorateTime,""===this.startTime)return this.$toast("请输入开业时间"),!1;if(t.openingTime=this.startTime,""!==this.DecorateType&&(t.decorationGrade=this.DecorateType),""!==this.staffMount&&(t.employeesNumber=this.staffMount),""===this.type)return this.$toast("请选择经营类型"),!1;if(t.managementClass=this.type,!(this.suitableNum.length>0))return this.$toast("请选择适合游玩人群"),!1;var o=[],a=[],l=[];if(this.suitableNum.forEach(function(t){o.push(e.suitableArr[t].id),a.push(e.suitableArr[t].name),l.push(e.suitableArr[t].restful)}),t.suitablesId=o.join(","),t.suitablesName=a.join(","),t.suitablesRestful=l.join(","),!(this.serviceInclude.length>0))return this.$toast("请选择服务项目"),!1;var r=[],c=[],u=[];if(this.serviceInclude.forEach(function(t){r.push(e.serviceArr[t].id),c.push(e.serviceArr[t].name),u.push(e.serviceArr[t].restful)}),t.playsId=r.join(","),t.playsName=c.join(","),t.playsRestful=u.join(","),!(this.imglist.length>0))return this.$toast("请上传一张服务项目封面图"),!1;if(t.playLogoUrl=this.imglist[0],!(this.supportArray.length>0))return this.$toast("请选择配套服务"),!1;var d=[],p=[],h=[];if(this.supportArray.forEach(function(t){d.push(e.supportArr[t].id),p.push(e.supportArr[t].name),h.push(e.supportArr[t].restful)}),t.matingsId=d.join(","),t.matingsName=p.join(","),t.matingsRestful=h.join(","),!(this.Grangeimglist.length>0))return this.$toast("请至少上传一张农庄封面图"),!1;if(t.grangeLogoUrl=this.Grangeimglist[0],t.grangeOtherUrl=this.Grangeimglist.slice(1).join(","),""!==this.grangeMessage&&(t.grangeSynopsis=this.grangeMessage),""!==this.busroute&&(t.busRoutes=this.busroute),""!==this.driveRoute&&(t.drivingRoute=this.driveRoute),""===this.businessName)return this.$toast("请输入经营者姓名"),!1;if(t.operatorName=this.businessName,t.operatorSex=this.colorNum,this.specialId)if(this.teleNum){if(this.businessTelephone!==this.teleNum){if(""===this.businessTelephone)return this.$toast("请输入手机号码"),!1;if(t.operatorMobile=this.businessTelephone,""===this.code)return this.$toast("请输入验证码"),!1;t.verificationCode=this.code}}else{if(""===this.businessTelephone)return this.$toast("请输入手机号码"),!1;if(t.operatorMobile=this.businessTelephone,""===this.code)return this.$toast("请输入验证码"),!1;t.verificationCode=this.code}else{if(""===this.businessTelephone)return this.$toast("请输入手机号码"),!1;if(t.operatorMobile=this.businessTelephone,""===this.code)return this.$toast("请输入验证码"),!1;t.verificationCode=this.code}if(""!==this.businessMail&&(t.operatorMailbox=this.businessMail),""!==this.bodyId&&(t.idCard=this.bodyId),""!==this.businessBrand&&(t.businessLicence=this.businessBrand),!(this.tradeLisence.length>0))return this.$toast("请上传营业执照图片"),!1;if(t.businessLicenceUrl=this.tradeLisence.join(","),!(this.lowimglist.length>0))return this.$toast("请上传身份证图片"),!1;if(t.idCardUrl=this.lowimglist.join(","),!(this.includeArr.length>0))return this.$toast("请选择服务产品"),!1;if(this.includeArr.includes(0)){if(t.isHavestay=1,""!==this.roomNum&&(i.roomNumber=parseInt(this.roomNum)),""!==this.roomGet&&(i.galleryful=parseInt(this.roomGet)),""!==this.roomInnTime&&(i.checkinTime=this.roomInnTime),""!==this.roomOutTime&&(i.checkoutTime=this.roomOutTime),!(this.Innimglist.length>0))return this.$toast("请上传一张住宿封面图"),!1;i.havestayLogoUrl=this.Innimglist[0],t=Object.assign(t,i)}else t.isHavestay=0;if(this.includeArr.includes(1)){if(t.isHavedelicacy=1,""!==this.foodRoomNum&&(s.compartmentNumber=parseInt(this.foodRoomNum)),""!==this.foodsNum&&(s.scatteredtableNumber=parseInt(this.foodsNum)),""!==this.getCustorm&&(s.receptionNumber=this.getCustorm),this.specialFoodArray.length>0&&(s.specialCuisine=this.specialFoodArray.join(",")),!(this.Foodimglist.length>0))return this.$toast("请上传一张美食封面图"),!1;if(s.havedelicacyLogoUrl=this.Foodimglist[0],""!==this.foodBrand&&(s.foodBusinessLicense=this.foodBrand),!(this.FoodtradeLisence.length>0))return this.$toast("请上传食品经营许可证"),!1;s.foodBusinessLicenseUrl=this.FoodtradeLisence.join(","),t=Object.assign(t,s)}else t.isHavedelicacy=0;console.log(t,"1",i,"2",s),this.$http.post("/appServiceInformation/publishGrange",t).then(function(t){"success"==t.msg?(e.$toast("发布成功"),e.$router.push({name:"grangeindex"})):e.$toast(t.info)})}},created:function(){localStorage.getItem("userInfo")?(this.specialId=JSON.parse(localStorage.getItem("userInfo")).userId,this.teleNum=JSON.parse(localStorage.getItem("userInfo")).nickName,this.teleNum?this.businessTelephone=this.teleNum:this.mobileValid=!0):(this.specialId=null,this.mobileValid=!0),this.init()},mounted:function(){this.$dragging.$on("dragged",function(e){e.value}),this.$nextTick(function(){})},watch:{locationSpot:{handler:function(e,t){this.drawLocation()},deep:!0}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"issueGrange"},[s("div",{staticClass:"topBar"},[s("Header",{attrs:{title:e.title}})],1),e._v(" "),s("div",{staticStyle:{width:"100%",height:"0.9rem"}}),e._v(" "),s("div",{staticClass:"topWrap"},[s("div",[s("van-field",{attrs:{required:"",clearable:"",label:"农庄名称",placeholder:"请填写"},model:{value:e.grangename,callback:function(t){e.grangename=t},expression:"grangename"}})],1),e._v(" "),s("div",{staticStyle:{border:"none"},on:{click:function(t){e.showpop(1)}}},[s("van-field",{attrs:{required:"",disabled:"",label:"所在地区",placeholder:"请选择"},model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1),e._v(" "),s("div",{staticClass:"three"},[s("van-cell-group",[s("van-field",{attrs:{clearable:"",required:"",center:"",label:"详细地址",placeholder:"请精确到门牌号"},model:{value:e.detailLocation,callback:function(t){e.detailLocation=t},expression:"detailLocation"}},[s("van-button",{attrs:{slot:"button"},slot:"button"},[e._v("号")])],1)],1)],1),e._v(" "),s("div",{on:{click:function(t){e.showpop(9)}}},[s("van-field",{attrs:{required:"",label:"位置标注",icon:"arrow",disabled:"",placeholder:"请选择"},model:{value:e.position,callback:function(t){e.position=t},expression:"position"}})],1),e._v(" "),s("div",{on:{click:function(t){e.showpop(2)}}},[s("van-field",{attrs:{label:"周边景区",required:"",icon:"arrow",disabled:"",placeholder:"请选择"},model:{value:e.sceincAround,callback:function(t){e.sceincAround=t},expression:"sceincAround"}})],1),e._v(" "),s("div",[s("van-field",{attrs:{required:"",label:"服务电话",placeholder:"请填写"},model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}})],1),e._v(" "),s("div",{on:{click:function(t){e.showpop(3)}}},[s("van-field",{attrs:{label:"营业时间",icon:"arrow",clearable:"",required:"",placeholder:"请选择"},model:{value:e.openTime,callback:function(t){e.openTime=t},expression:"openTime"}})],1),e._v(" "),s("div",{staticClass:"three"},[s("van-cell-group",[s("van-field",{attrs:{clearable:"",required:"",center:"",type:"number",label:"人均消费",placeholder:"请填写"},model:{value:e.percost,callback:function(t){e.percost=t},expression:"percost"}},[s("van-button",{attrs:{slot:"button"},slot:"button"},[e._v("元")])],1)],1)],1),e._v(" "),s("div",{staticClass:"three"},[s("van-cell-group",[s("van-field",{attrs:{clearable:"",required:"",type:"number",center:"",label:"经营面积",placeholder:"请填写"},model:{value:e.businessArea,callback:function(t){e.businessArea=t},expression:"businessArea"}},[s("van-button",{attrs:{slot:"button"},slot:"button"},[e._v("平方米")])],1)],1)],1),e._v(" "),s("div",{staticClass:"three"},[s("van-cell-group",[s("van-field",{attrs:{clearable:"",required:"",center:"",label:"装修时间",type:"number",placeholder:"请填写"},model:{value:e.DecorateTime,callback:function(t){e.DecorateTime=t},expression:"DecorateTime"}},[s("van-button",{attrs:{slot:"button"},slot:"button"},[e._v("年")])],1)],1)],1),e._v(" "),s("div",{staticClass:"three"},[s("van-cell-group",[s("van-field",{attrs:{clearable:"",required:"",center:"",label:"开业时间",type:"number",placeholder:"请填写"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},[s("van-button",{attrs:{slot:"button"},slot:"button"},[e._v("年")])],1)],1)],1),e._v(" "),s("div",{on:{click:function(t){e.showpop(5)}}},[s("van-field",{attrs:{label:"装修级别",icon:"arrow",disabled:"",placeholder:"请选择"},model:{value:e.DecorateType,callback:function(t){e.DecorateType=t},expression:"DecorateType"}})],1),e._v(" "),s("div",[s("van-field",{attrs:{label:"员工数量",type:"number",clearable:"",placeholder:"请输入"},model:{value:e.staffMount,callback:function(t){e.staffMount=t},expression:"staffMount"}})],1),e._v(" "),s("div",{on:{click:function(t){e.showpop(4)}}},[s("van-field",{attrs:{label:"经营类型",icon:"arrow",disabled:"",required:"",placeholder:"请选择"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),e._v(" "),s("div",{staticClass:"service"},[s("van-field",{attrs:{label:"适合游玩人群",disabled:"",required:"",placeholder:""},model:{value:e.suitable,callback:function(t){e.suitable=t},expression:"suitable"}}),e._v(" "),s("div",{staticClass:"product"},e._l(e.suitableArr,function(t,i){return s("span",{class:{orange:e.suitableNum.includes(i)},on:{click:function(t){e.selectSuitable(i)}}},[e._v(e._s(t.name))])}))],1)]),e._v(" "),s("div",{staticClass:"separate"}),e._v(" "),s("div",{staticClass:"serviceItem"},[s("div",{staticClass:"service"},[s("van-field",{attrs:{label:"服务项目",disabled:"",required:""},model:{value:e.serviceProject,callback:function(t){e.serviceProject=t},expression:"serviceProject"}}),e._v(" "),s("div",{staticClass:"product"},e._l(e.serviceArr,function(t,i){return s("span",{class:{orange:e.serviceInclude.includes(i)},on:{click:function(t){e.getproduct(i)}}},[e._v(e._s(t.name))])}))],1),e._v(" "),s("div",{staticClass:"projectimg"},[s("van-field",{attrs:{label:"服务项目封面图片",disabled:"",required:""},model:{value:e.serviceProjectImg,callback:function(t){e.serviceProjectImg=t},expression:"serviceProjectImg"}}),e._v(" "),s("div",{staticClass:"buttonimg"},[e._l(e.imglist,function(t,i){return s("div",{style:{background:"url("+t+") center center no-repeat",backgroundSize:"cover"}},[s("i",{staticClass:"iconfont icon-menu_reject2Submitor",on:{click:function(t){e.delIMg(i)}}})])}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.imglist.length<1,expression:"imglist.length<1"}]},[s("input",{attrs:{type:"file"},on:{change:function(t){e.uploadimg(t,1)}}})])],2),e._v(" "),s("p",[e._v("上传一张特色游玩项目封面图")])],1)]),e._v(" "),s("div",{staticClass:"separate"}),e._v(" "),s("div",{staticClass:"support"},[s("div",{staticClass:"service"},[s("van-field",{attrs:{label:"配套服务",disabled:"",required:""},model:{value:e.supportservice,callback:function(t){e.supportservice=t},expression:"supportservice"}}),e._v(" "),s("div",{staticClass:"product"},e._l(e.supportArr,function(t,i){return s("span",{class:{orange:e.supportArray.includes(i)},on:{click:function(t){e.supportser(i)}}},[e._v(e._s(t.name))])}))],1)]),e._v(" "),s("div",{staticClass:"separate"}),e._v(" "),s("div",{staticClass:"serviceProduct"},[s("div",{staticClass:"service"},[s("van-field",{attrs:{label:"服务产品 多选",disabled:"",required:"",placeholder:"请选择"},model:{value:e.product,callback:function(t){e.product=t},expression:"product"}}),e._v(" "),s("div",{staticClass:"product"},e._l(e.productArr,function(t,i){return s("span",{class:{orange:e.includeArr.includes(i)},on:{click:function(t){e.selectProduct(i)}}},[e._v(e._s(t))])}))],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.includeArr.includes(0),expression:"includeArr.includes(0)"}],staticClass:"stayInfor"},[s("div",{staticClass:"top"},[e._v("\n      住宿信息\n    ")]),e._v(" "),s("div",{staticClass:"three"},[s("van-cell-group",[s("van-field",{attrs:{clearable:"",center:"",type:"number",label:"客房数量",placeholder:"请填写"},model:{value:e.roomNum,callback:function(t){e.roomNum=t},expression:"roomNum"}},[s("van-button",{attrs:{slot:"button"},slot:"button"},[e._v("间")])],1)],1)],1),e._v(" "),s("div",[s("van-field",{attrs:{label:"住宿容纳",type:"number",clearable:"",placeholder:"请选择"},model:{value:e.roomGet,callback:function(t){e.roomGet=t},expression:"roomGet"}})],1),e._v(" "),s("div",{on:{click:function(t){e.showpop(6)}}},[s("van-field",{attrs:{label:"入住时间",icon:"arrow",disabled:"",placeholder:"请选择"},model:{value:e.roomInnTime,callback:function(t){e.roomInnTime=t},expression:"roomInnTime"}})],1),e._v(" "),s("div",{on:{click:function(t){e.showpop(7)}}},[s("van-field",{attrs:{label:"离店时间",icon:"arrow",disabled:"",placeholder:"请选择"},model:{value:e.roomOutTime,callback:function(t){e.roomOutTime=t},expression:"roomOutTime"}})],1),e._v(" "),s("div",{staticClass:"projectimg"},[s("van-field",{attrs:{label:"住宿封面图",icon:"arrow",disabled:"",required:""},model:{value:e.roomImg,callback:function(t){e.roomImg=t},expression:"roomImg"}}),e._v(" "),s("div",{staticClass:"buttonimg"},[e._l(e.Innimglist,function(t,i){return s("div",{style:{background:"url("+t+") center center no-repeat",backgroundSize:"cover"}},[s("i",{staticClass:"iconfont icon-menu_reject2Submitor",on:{click:function(t){e.delInnIMg(i)}}})])}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.Innimglist.length<1,expression:"Innimglist.length<1"}]},[s("input",{attrs:{type:"file"},on:{change:function(t){e.uploadimg(t,2)}}})])],2),e._v(" "),s("p",[e._v("上传一张住宿产品的封面图")])],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.includeArr.includes(0),expression:"includeArr.includes(0)"}],staticClass:"separate"}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.includeArr.includes(1),expression:"includeArr.includes(1)"}],staticClass:"foodInfo"},[s("div",{staticClass:"top"},[e._v("\n      美食信息\n    ")]),e._v(" "),s("div",{staticClass:"three"},[s("van-cell-group",[s("van-field",{attrs:{clearable:"",center:"",type:"number",label:"包间数量",placeholder:"请填写"},model:{value:e.foodRoomNum,callback:function(t){e.foodRoomNum=t},expression:"foodRoomNum"}},[s("van-button",{attrs:{slot:"button"},slot:"button"},[e._v("间")])],1)],1)],1),e._v(" "),s("div",{staticClass:"three"},[s("van-cell-group",[s("van-field",{attrs:{clearable:"",center:"",type:"number",label:"散桌数量",placeholder:"请填写"},model:{value:e.foodsNum,callback:function(t){e.foodsNum=t},expression:"foodsNum"}},[s("van-button",{attrs:{slot:"button"},slot:"button"},[e._v("桌")])],1)],1)],1),e._v(" "),s("div",{on:{click:function(t){e.showpop(8)}}},[s("van-field",{attrs:{label:"用餐接待",icon:"arrow",disabled:"",placeholder:"请选择"},model:{value:e.getCustorm,callback:function(t){e.getCustorm=t},expression:"getCustorm"}})],1),e._v(" "),s("div",{staticClass:"projectimg"},[s("van-field",{attrs:{label:"特色菜",placeholder:"请输入",disabled:e.specialFoodArray.length>9},on:{blur:e.add},model:{value:e.specialFood,callback:function(t){e.specialFood=t},expression:"specialFood"}}),e._v(" "),s("div",{staticClass:"buttonimg"},e._l(e.specialFoodArray,function(t,i){return s("a",[e._v("\n          "+e._s(t)+"\n          "),s("i",{staticClass:"iconfont icon-menu_reject2Submitor",on:{click:function(t){e.delfood(i)}}})])}))],1),e._v(" "),s("div",{staticClass:"projectimg"},[s("van-field",{attrs:{label:"美食封面图片",icon:"arrow",disabled:"",required:""},model:{value:e.foodfirstImg,callback:function(t){e.foodfirstImg=t},expression:"foodfirstImg"}}),e._v(" "),s("div",{staticClass:"buttonimg"},[e._l(e.Foodimglist,function(t,i){return s("div",{style:{background:"url("+t+") center center no-repeat",backgroundSize:"cover"}},[s("i",{staticClass:"iconfont icon-menu_reject2Submitor",on:{click:function(t){e.delFoodIMg(i)}}})])}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.Foodimglist.length<1,expression:"Foodimglist.length<1"}]},[s("input",{attrs:{type:"file"},on:{change:function(t){e.uploadimg(t,3)}}})])],2),e._v(" "),s("p",[e._v(" 上传一张美食产封面图")])],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.includeArr.includes(1),expression:"includeArr.includes(1)"}],staticClass:"separate"}),e._v(" "),s("div",{staticClass:"imgInfor"},[s("div",{staticClass:"projectimg"},[s("van-field",{attrs:{label:"农庄图片",disabled:"",required:""},model:{value:e.outImg,callback:function(t){e.outImg=t},expression:"outImg"}}),e._v(" "),s("div",{staticClass:"buttonimg"},[e._l(e.Grangeimglist,function(t,i){return s("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.Grangeimglist,group:"color"},expression:"{item:color,list:Grangeimglist,group:'color'}"}]},[s("img",{attrs:{src:t,alt:""}}),e._v(" "),s("i",{staticClass:"iconfont icon-menu_reject2Submitor",on:{click:function(t){e.delGrangeIMg(i)}}})])}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.Grangeimglist.length<=2,expression:"Grangeimglist.length<=2"}]},[s("input",{attrs:{type:"file"},on:{change:function(t){e.uploadimg(t,4)}}})])],2),e._v(" "),s("p",[e._v("上传农庄图片，最少1张，第1张为封面，拖动调整图片顺序")])],1)]),e._v(" "),s("div",{staticClass:"separate"}),e._v(" "),s("div",{staticClass:"traffic"},[s("div",[s("van-field",{attrs:{label:"农庄简介",type:"textarea",placeholder:"请填写",rows:"1",autosize:e.autosize},model:{value:e.grangeMessage,callback:function(t){e.grangeMessage=t},expression:"grangeMessage"}})],1),e._v(" "),s("div",[s("van-field",{attrs:{label:"公交线路",type:"textarea",placeholder:"示例:旅游一号线直达，每天3班",rows:"1",autosize:e.autosize},model:{value:e.busroute,callback:function(t){e.busroute=t},expression:"busroute"}})],1),e._v(" "),s("div",[s("van-field",{attrs:{label:"自驾线路",type:"textarea",placeholder:"示例:距汉口站开车仅40分钟路程",rows:"1",autosize:e.autosize},model:{value:e.driveRoute,callback:function(t){e.driveRoute=t},expression:"driveRoute"}})],1)]),e._v(" "),s("div",{staticClass:"separate"}),e._v(" "),s("div",{staticClass:"merchantInfo"},[s("div",{staticClass:"top"},[e._v("\n      商户信息\n    ")]),e._v(" "),s("div",{staticClass:"three"},[s("van-cell-group",[s("van-field",{attrs:{clearable:"",center:"",required:"",label:"经营者姓名",placeholder:"请填写"},model:{value:e.businessName,callback:function(t){e.businessName=t},expression:"businessName"}},[s("van-button",{style:{background:1==e.colorNum?"#ff6500":"#e7e6ec",color:1==e.colorNum?"white":"black"},attrs:{slot:"button"},on:{click:e.tab},slot:"button"},[e._v("先生")]),e._v(" "),s("van-button",{style:{background:0==e.colorNum?"#ff6500":"#e7e6ec",color:0==e.colorNum?"white":"black"},attrs:{slot:"button",type:"primary"},on:{click:e.tabdiv},slot:"button"},[e._v("女士")])],1)],1)],1),e._v(" "),s("div",[s("van-field",{attrs:{label:"经营者手机",type:"number",placeholder:"请填写",required:"",clearable:"","error-message":e.teleMessage},on:{blur:e.blurr},model:{value:e.businessTelephone,callback:function(t){e.businessTelephone=t},expression:"businessTelephone"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.mobileValid,expression:"mobileValid"}],staticClass:"three",staticStyle:{"border-bottom":"0.01rem solid #e6e6e6"}},[s("van-field",{attrs:{type:"number",label:"验证码",placeholder:"请填写",required:"",clearable:""},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.sendAuthCode,expression:"sendAuthCode"}],staticClass:"code",attrs:{slot:"button"},on:{click:e.sendCode},slot:"button"},[e._v("\n            获取验证码\n        ")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.sendAuthCode,expression:"!sendAuthCode"}],staticClass:"recode",attrs:{slot:"button"},slot:"button"},[e._v(e._s(e.auth_time)+"秒后再发送")])])],1),e._v(" "),s("div",[s("van-field",{attrs:{label:"经营者邮箱",placeholder:"请填写",clearable:""},model:{value:e.businessMail,callback:function(t){e.businessMail=t},expression:"businessMail"}})],1),e._v(" "),s("div",[s("van-field",{attrs:{label:"身份证号码",type:"number",placeholder:"请填写",clearable:""},model:{value:e.bodyId,callback:function(t){e.bodyId=t},expression:"bodyId"}})],1),e._v(" "),s("div",[s("van-field",{attrs:{label:"营业执照",placeholder:"请填写",clearable:""},model:{value:e.businessBrand,callback:function(t){e.businessBrand=t},expression:"businessBrand"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.includeArr.includes(1),expression:"includeArr.includes(1)"}]},[s("van-field",{attrs:{label:"食品经营许可证",placeholder:"请填写",clearable:""},model:{value:e.foodBrand,callback:function(t){e.foodBrand=t},expression:"foodBrand"}})],1)]),e._v(" "),s("div",{staticClass:"separate"}),e._v(" "),s("div",{staticClass:"bussiness"},[s("div",{staticClass:"projectimg"},[s("van-field",{attrs:{label:"营业执照",disabled:"",required:""},model:{value:e.businessBrandImg,callback:function(t){e.businessBrandImg=t},expression:"businessBrandImg"}}),e._v(" "),s("div",{staticClass:"buttonimg"},[e._l(e.tradeLisence,function(t,i){return s("div",{style:{background:"url("+t+") center center no-repeat",backgroundSize:"cover"}},[s("i",{staticClass:"iconfont icon-menu_reject2Submitor",on:{click:function(t){e.delLisenceIMg(i)}}})])}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.tradeLisence.length<=2,expression:"tradeLisence.length<=2"}]},[s("input",{attrs:{type:"file"},on:{change:function(t){e.uploadimg(t,5)}}})])],2),e._v(" "),s("p",[e._v("请上传营业执照，仅用于审核。")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.includeArr.includes(1),expression:"includeArr.includes(1)"}],staticClass:"projectimgg"},[s("van-field",{attrs:{label:"食品经营许可证",disabled:"",required:""},model:{value:e.foodImg,callback:function(t){e.foodImg=t},expression:"foodImg"}}),e._v(" "),s("div",{staticClass:"buttonimg"},[e._l(e.FoodtradeLisence,function(t,i){return s("div",{style:{background:"url("+t+") center center no-repeat",backgroundSize:"cover"}},[s("i",{staticClass:"iconfont icon-menu_reject2Submitor",on:{click:function(t){e.delFoodLisenceIMg(i)}}})])}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.FoodtradeLisence.length<=2,expression:"FoodtradeLisence.length<=2"}]},[s("input",{attrs:{type:"file"},on:{change:function(t){e.uploadimg(t,6)}}})])],2),e._v(" "),s("p",[e._v("请上传食品经营许可证，仅用于审核。")])],1),e._v(" "),s("div",{staticClass:"projectimgg"},[s("van-field",{attrs:{label:"法人代表手持身份证照（正面及反面各1张）",disabled:"",required:""},model:{value:e.handlerImg,callback:function(t){e.handlerImg=t},expression:"handlerImg"}}),e._v(" "),s("div",{staticClass:"buttonimg"},[e._l(e.lowimglist,function(t,i){return s("div",{style:{background:"url("+t+") center center no-repeat",backgroundSize:"cover"}},[s("i",{staticClass:"iconfont icon-menu_reject2Submitor",on:{click:function(t){e.delLowIMg(i)}}})])}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.lowimglist.length<=1,expression:"lowimglist.length<=1"}]},[s("input",{attrs:{type:"file"},on:{change:function(t){e.uploadimg(t,7)}}})])],2),e._v(" "),s("p",[e._v("需清晰展示人物五官和身份证文字信息，上传正面手持及反面手持。仅用于审核。")])],1)]),e._v(" "),s("div",{staticClass:"bottom",on:{click:e.submit}},[e._v("\n    立即发布\n  ")]),e._v(" "),s("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[s("div",{staticClass:"cell-title"},[s("p",{staticClass:"confirm-icon",on:{click:e.confirmPop}},[e._v("确定")]),e._v(" "),s("van-icon",{staticClass:"custom-icon close-icon",attrs:{slot:"right-icon",name:"close"},on:{click:e.closePop},slot:"right-icon"})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.popType,expression:"popType == 1"}],staticClass:"position-columns"},[s("van-picker",{attrs:{columns:e.columns},on:{change:e.onChange}}),e._v(" "),s("van-picker",{attrs:{columns:e.columns1},on:{change:e.onChange1}}),e._v(" "),s("van-picker",{attrs:{columns:e.columns2},on:{change:e.onChange2}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.popType,expression:"popType == 2"}],staticClass:"position-columns spot-columns"},[s("van-picker",{attrs:{columns:e.spotColumns},on:{change:e.spotonChange}}),e._v(" "),s("van-picker",{attrs:{columns:e.spotColumns1},on:{change:e.spotonChange1}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:3==e.popType,expression:"popType == 3"}],staticClass:"position-columns timepicker"},[s("div",{staticStyle:{"font-size":"0.32rem",padding:"0.5rem"}},[e._v("开始时间 "),s("span",{staticStyle:{display:"inline-block",width:"1.35rem"}}),e._v("结束时间")]),e._v(" "),s("van-datetime-picker",{attrs:{type:"time","min-hour":e.minHour,"max-hour":e.maxHour},on:{change:e.getStarTime},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}}),e._v(" "),s("van-datetime-picker",{attrs:{type:"time","min-hour":e.minHour,"max-hour":e.maxHour},on:{change:e.getEndTime},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:4==e.popType,expression:"popType == 4"}]},[s("van-picker",{attrs:{columns:e.manageColumns},on:{change:e.management}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:5==e.popType,expression:"popType == 5"}]},[s("van-picker",{attrs:{columns:e.decorationColumns},on:{change:e.decoration}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:6==e.popType,expression:"popType==6"}],staticClass:"timepicker"},[s("van-datetime-picker",{attrs:{type:"time","min-hour":e.minHour,"max-hour":e.maxHour},on:{change:e.checkInnTime},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:7==e.popType,expression:"popType==7"}],staticClass:"timepicker"},[s("van-datetime-picker",{attrs:{type:"time","min-hour":e.minHour,"max-hour":e.maxHour},on:{change:e.checkOutTime},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:8==e.popType,expression:"popType==8"}]},[s("van-picker",{attrs:{columns:e.EatingColumns},on:{change:e.Eating}})],1),e._v(" "),9==e.popType?s("div",[s("div",{staticClass:"map"},[s("div",{staticStyle:{padding:"0 0.35rem"}},[e._v("\n          地理位置："),s("input",{directives:[{name:"model",rawName:"v-model",value:e.address_detail,expression:"address_detail"}],attrs:{type:"text",id:"getInput",placeholder:"地址"},domProps:{value:e.address_detail},on:{input:function(t){t.target.composing||(e.address_detail=t.target.value)}}})]),e._v(" "),s("div",{attrs:{id:"l-map"}}),e._v(" "),s("div",{staticClass:"location",staticStyle:{padding:"0 0.35rem"}},[s("p",[e._v("当前经度: "),s("span",[e._v(e._s(e.locationSpot.lng))])]),e._v(" "),s("p",[e._v("当前纬度: "),s("span",[e._v(e._s(e.locationSpot.lat))])])])])]):e._e()])],1)},staticRenderFns:[]};var r=s("VU/8")(a,l,!1,function(e){s("ysFK")},"data-v-3d66deef",null);t.default=r.exports},ysFK:function(e,t){}});